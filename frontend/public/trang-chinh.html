<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Dashboard - Qu·∫£n l√Ω nh√¢n vi√™n</title>

    <link rel="stylesheet" href="./assets/fontawesome/css/all.min.css" />
    <link rel="stylesheet" href="./assets/css/styles.css" />
    <link rel="stylesheet" href="./assets/css/trang-chinh.css" />

    <!-- Style b·ªï sung cho dashboard -->
    <style>
      .alert-box {
        background: #fff3cd;
        border: 1px solid #ffeeba;
        padding: 12px 16px;
        border-radius: 8px;
        margin-bottom: 16px;
      }

      .quick-actions {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
        gap: 12px;
      }

      .quick-btn {
        padding: 14px;
        border-radius: 10px;
        border: 1px solid #ddd;
        cursor: pointer;
        background: white;
        text-align: center;
        transition: 0.2s;
      }
      .quick-btn:hover {
        background: #f7f7f7;
      }

      /* Ph√™ duy·ªát nhanh */
      .quick-approve-card {
        padding: 16px;
        background: #fff;
        border-radius: 10px;
        box-shadow: var(--shadow);
        margin-bottom: 20px;
      }
      .approve-item {
        padding: 12px 10px;
        border-bottom: 1px solid #eee;
      }
      .approve-actions {
        margin-top: 8px;
        display: flex;
        gap: 8px;
      }
    </style>
  </head>

  <body>
    <div id="menuContainer"></div>

    <main class="dashboard-page">
      <!-- HEADER -->
      <header class="dashboard-header">
        <h1 style="margin-bottom: 10px">
          Xin ch√†o, <span id="helloName">...</span>
          <i class="fa-regular fa-hand" style="color: #f6c23e"></i>
        </h1>
        <p id="today-date" style="margin-top: 0px"></p>
      </header>

      <!-- A. C·∫¢NH B√ÅO QUAN TR·ªåNG -->
      <section id="alertSection" class="alert-box" data-role="admin">
        <!-- JS s·∫Ω render c·∫£nh b√°o -->
      </section>

      <!-- ========================================================= -->
      <!-- B. KH·ªêI KPI  + KH·ªêI TH∆Ø·ªûNG/PH·∫†T  -->
      <!-- ========================================================= -->
      <section class="kpi-reward-wrapper">
        <!-- C·ªôt tr√°i: KPI -->
        <div class="kpi-block">
          <!-- KPI NH√ÇN VI√äN -->
          <section class="kpi-grid" data-role="employee,manager">
            <div class="kpi-card">
              <p class="kpi-label">Gi·ªù l√†m th√°ng n√†y</p>
              <p id="emp-hours" class="kpi-value">--</p>
            </div>

            <div class="kpi-card">
              <p class="kpi-label">S·ªë ng√†y c√¥ng</p>
              <p id="emp-days" class="kpi-value">--</p>
            </div>

            <div class="kpi-card">
              <p class="kpi-label">ƒêi mu·ªôn</p>
              <p id="emp-late" class="kpi-value">--</p>
            </div>

            <div class="kpi-card">
              <p class="kpi-label">Ngh·ªâ ph√©p</p>
              <p id="emp-leave" class="kpi-value">--</p>
            </div>
          </section>

          <!-- KPI QU·∫¢N L√ù (PH√íNG BAN) -->
          <section class="kpi-grid" data-role="admin,manager">
            <div class="kpi-card">
              <p class="kpi-label">ƒê∆°n ch·ªù duy·ªát</p>
              <p id="mgr-pending-leave" class="kpi-value">--</p>
            </div>

            <div class="kpi-card">
              <p class="kpi-label">T·ªïng gi·ªù l√†m th√™m th√°ng n√†y</p>
              <p id="mgr-ot" class="kpi-value">--</p>
            </div>
          </section>

          <!-- KPI ADMIN -->
          <section class="kpi-grid" data-role="admin">
            <div class="kpi-card">
              <p class="kpi-label">T·ªïng Nh√¢n Vi√™n</p>
              <p id="adm-total" class="kpi-value">--</p>
            </div>

            <!-- ƒê√É B·ªé: ƒêang ƒëi l√†m, Ngh·ªâ kh√¥ng ph√©p -->

            <div class="kpi-card">
              <p class="kpi-label">Qu·ªπ l∆∞∆°ng th√°ng tr∆∞·ªõc</p>
              <p id="adm-salary" class="kpi-value">--</p>
            </div>
          </section>
        </div>

        <!-- C·ªôt ph·∫£i: Th∆∞·ªüng / Ph·∫°t -->
        <div class="reward-block" data-role="admin,manager">
          <section class="dash-card reward-card">
            <h2 class="section-title">Th∆∞·ªüng / Ph·∫°t th√°ng n√†y</h2>
            <div id="rewardChart" class="chart"></div>
          </section>
        </div>
      </section>

      <!-- ========================================================= -->
      <!--   C. C√ÅC PH·∫¶N C√íN L·∫†I GI·ªÆ NGUY√äN                          -->
      <!-- ========================================================= -->

      <!-- BI·ªÇU ƒê·ªí L∆Ø∆†NG THEO PH√íNG BAN -->
      <section class="dash-card" data-role="admin,manager">
        <h2 class="section-title">L∆∞∆°ng theo ph√≤ng ban</h2>
        <div id="salaryChart" class="chart"></div>
      </section>

      <!-- TOP NH√ÇN VI√äN -->
      <section class="dash-card" data-role="admin,manager">
        <h2 class="section-title">Top nh√¢n vi√™n ƒë√≥ng g√≥p</h2>
        <div class="top-employees-split">
          <div class="top-list-container">
            <ul id="topEmployeesList" class="top-list"></ul>
          </div>
          <div class="top-chart-wrapper">
            <div id="topEmployeesChart"></div>
          </div>
        </div>
      </section>

      <!-- PH√ä DUY·ªÜT NHANH -->
      <section class="quick-approve-card" data-role="manager">
        <h2 style="margin-bottom: 12px">üì• Ph√™ duy·ªát nhanh</h2>
        <div id="quickApproveList"></div>
      </section>

      <!-- TH√îNG B√ÅO G·∫¶N ƒê√ÇY -->
      <section id="dashboard-notify-section" class="dash-card" data-role="all">
        <h2 class="section-title">Th√¥ng b√°o g·∫ßn ƒë√¢y</h2>
        <ul id="notifyList" class="top-list"></ul>
      </section>

      <!-- THAO T√ÅC NHANH - EMPLOYEE -->
      <section class="dash-card" data-role="employee">
        <h2 class="section-title">Thao t√°c nhanh</h2>
        <div class="quick-actions">
          <div
            class="quick-btn"
            onclick="location.href='quan-ly-nghi-phep.html'"
          >
            Xin ngh·ªâ ph√©p
          </div>
          <div class="quick-btn" onclick="location.href='cham-cong.html'">
            Xem ch·∫•m c√¥ng
          </div>
          <div class="quick-btn" onclick="location.href='luong.html'">
            Xem phi·∫øu l∆∞∆°ng
          </div>
          <div class="quick-btn" onclick="location.href='ho-so.html'">
            C·∫≠p nh·∫≠t h·ªì s∆°
          </div>
        </div>
      </section>

      <!-- THAO T√ÅC NHANH - MANAGER -->
      <section class="dash-card" data-role="manager">
        <h2 class="section-title">Thao t√°c nhanh</h2>
        <div class="quick-actions">
          <div
            class="quick-btn"
            onclick="location.href='quan-ly-nghi-phep.html'"
          >
            Duy·ªát ngh·ªâ ph√©p
          </div>
          <div class="quick-btn" onclick="location.href='cham-cong.html'">
            Ch·∫•m c√¥ng ph√≤ng
          </div>
          <div class="quick-btn" onclick="location.href='luong.html'">
            L∆∞∆°ng ph√≤ng
          </div>
          <div class="quick-btn" onclick="location.href='nhan-vien.html'">
            Nh√¢n s·ª± ph√≤ng
          </div>
        </div>
      </section>

      <!-- THAO T√ÅC NHANH - ADMIN -->
      <section class="dash-card" data-role="admin">
        <h2 class="section-title">Thao t√°c nhanh</h2>
        <div class="quick-actions">
          <div class="quick-btn" onclick="location.href='tai-khoan.html'">
            Qu·∫£n l√Ω t√†i kho·∫£n
          </div>
          <div class="quick-btn" onclick="location.href='hop-dong.html'">
            Qu·∫£n l√Ω h·ª£p ƒë·ªìng
          </div>
          <div class="quick-btn" onclick="location.href='cham-cong.html'">
            Import ch·∫•m c√¥ng
          </div>
          <div class="quick-btn" onclick="location.href='luong.html'">
            T√≠nh l∆∞∆°ng
          </div>
        </div>
      </section>
    </main>

    <script src="./assets/js/danh-sach.js"></script>
    <script type="module" src="./assets/js/navbar.js"></script>
    <script type="module" src="./assets/js/trang-chinh.js"></script>
  </body>
</html>
