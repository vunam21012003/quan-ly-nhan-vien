<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Ph·ª• c·∫•p - Qu·∫£n l√Ω nh√¢n vi√™n</title>

    <!-- CSS -->
    <link rel="stylesheet" href="./assets/css/styles.css" />
    <link rel="stylesheet" href="./assets/css/phu-cap.css" />

    <style>
      /* ===== TAB MENU ===== */
      .tab-menu {
        display: flex;
        gap: 10px;
        margin: 15px 0;
        border-bottom: 2px solid #ddd;
        padding-bottom: 6px;
      }
      .tab-btn {
        background: #f3f3f3;
        border: 1px solid #ccc;
        padding: 6px 16px;
        border-radius: 6px 6px 0 0;
        cursor: pointer;
        font-weight: bold;
      }
      .tab-btn.active {
        background: #007bff;
        color: white;
        border-color: #007bff;
      }
      .tab-content {
        display: none;
      }
      .tab-content.active {
        display: block;
      }
    </style>
  </head>

  <body class="bg">
    <div id="menuContainer"></div>

    <main class="container">
      <div class="page-header">
        <h1 class="page-title">Qu·∫£n l√Ω ph·ª• c·∫•p</h1>
      </div>

      <!-- TAB MENU -->
      <div class="tab-menu">
        <button class="tab-btn active" data-tab="loai-tab">
          üìÇ Lo·∫°i ph·ª• c·∫•p
        </button>
        <button class="tab-btn" data-tab="thang-tab">üóìÔ∏è Ph·ª• c·∫•p th√°ng</button>
      </div>

      <!-- ==================================================== -->
      <!--  TAB 1 ‚Äî LO·∫†I PH·ª§ C·∫§P                               -->
      <!-- ==================================================== -->
      <section id="loai-tab" class="tab-content active">
        <div class="toolbar">
          <button id="btn-add-loai" class="btn btn-primary">
            ‚ûï Th√™m lo·∫°i ph·ª• c·∫•p
          </button>
        </div>

        <div class="table-wrap">
          <table class="table">
            <thead>
              <tr>
                <th>ID</th>
                <th>T√™n lo·∫°i</th>
                <th>M√¥ t·∫£</th>
                <th>Lo·∫°i</th>
                <th>T√≠nh BHXH</th>
                <th>M·∫∑c ƒë·ªãnh (VNƒê)</th>
                <th>Thao t√°c</th>
              </tr>
            </thead>

            <tbody id="loai-body">
              <tr>
                <td colspan="7" class="text-muted">ƒêang t·∫£i‚Ä¶</td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- Modal Lo·∫°i Ph·ª• C·∫•p -->
        <dialog id="modal-loai" style="max-width: 420px">
          <form id="form-loai" class="form" method="dialog">
            <h3 id="loai-title">Th√™m lo·∫°i ph·ª• c·∫•p</h3>
            <input type="hidden" id="loai-id" />

            <div class="form-group">
              <label for="loai-ten">T√™n ph·ª• c·∫•p</label>
              <input id="loai-ten" type="text" required />
            </div>

            <div class="form-group">
              <label for="loai-mo-ta">M√¥ t·∫£</label>
              <textarea id="loai-mo-ta" rows="2"></textarea>
            </div>

            <div class="form-group">
              <label for="loai-is-fixed">Lo·∫°i ph·ª• c·∫•p</label>
              <select id="loai-is-fixed">
                <option value="1">C·ªë ƒë·ªãnh (g·∫Øn h·ª£p ƒë·ªìng)</option>
                <option value="0">Theo th√°ng</option>
              </select>
            </div>

            <div class="form-group">
              <label style="display: flex; align-items: center; gap: 6px">
                <input type="checkbox" id="loai-tinh-bhxh" />
                T√≠nh BHXH
              </label>
            </div>

            <div class="form-group">
              <label for="loai-mac-dinh">S·ªë ti·ªÅn m·∫∑c ƒë·ªãnh (VNƒê)</label>
              <input type="number" id="loai-mac-dinh" min="0" value="0" />
            </div>

            <div class="alert alert-error" id="loai-error" hidden></div>

            <div style="display: flex; gap: 8px; justify-content: flex-end">
              <button id="btn-cancel-loai" type="button" class="btn">
                H·ªßy
              </button>
              <button id="btn-save-loai" type="submit" class="btn btn-primary">
                L∆∞u
              </button>
            </div>
          </form>
        </dialog>
      </section>

      <!-- ==================================================== -->
      <!--  TAB 2 ‚Äî PH·ª§ C·∫§P TH√ÅNG                               -->
      <!-- ==================================================== -->
      <section id="thang-tab" class="tab-content">
        <div class="toolbar">
          <select id="filter-nv">
            <option value="">-- Nh√¢n vi√™n --</option>
          </select>

          <select id="filter-thang">
            <option value="">-- Th√°ng --</option>
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
            <option value="6">6</option>
            <option value="7">7</option>
            <option value="8">8</option>
            <option value="9">9</option>
            <option value="10">10</option>
            <option value="11">11</option>
            <option value="12">12</option>
          </select>

          <input
            type="number"
            id="filter-nam"
            placeholder="NƒÉm"
            style="width: 120px"
          />

          <button id="button-filter" class="btn">L·ªçc</button>

          <button id="btn-show-all" type="button" class="btn btn-info">
            üìå Hi·ªÉn th·ªã t·∫•t c·∫£
          </button>
          <button id="btn-add-thang" class="btn btn-primary">
            ‚ûï Th√™m ph·ª• c·∫•p th√°ng
          </button>
        </div>

        <div class="table-wrap">
          <table class="table">
            <thead>
              <tr>
                <th>ID</th>
                <th>Nh√¢n vi√™n</th>
                <th>Th√°ng/NƒÉm</th>
                <th>Lo·∫°i ph·ª• c·∫•p</th>
                <th>S·ªë ti·ªÅn</th>
                <th>Ghi ch√∫</th>
                <th>Thao t√°c</th>
              </tr>
            </thead>
            <tbody id="thang-body">
              <tr>
                <td colspan="7" class="text-muted">ƒêang t·∫£i‚Ä¶</td>
              </tr>
            </tbody>
          </table>
          <div class="pagination" id="pc-pagination" style="margin-top: 10px">
            <button id="pc-prev" class="page-btn">¬´</button>
            <span id="pc-pageInfo" class="text-muted">Trang 1/1</span>
            <button id="pc-next" class="page-btn">¬ª</button>
          </div>
        </div>

        <!-- Modal Ph·ª• C·∫•p Th√°ng - Ch·ªâ c·∫ßn c·∫≠p nh·∫≠t ph·∫ßn n√†y -->
        <dialog id="modal-thang">
          <form id="form-thang" class="form" method="dialog">
            <h3 id="thang-title">Th√™m ph·ª• c·∫•p th√°ng</h3>
            <input type="hidden" id="thang-id" />

            <div class="form-group">
              <label for="thang-nv">Nh√¢n vi√™n *</label>
              <select id="thang-nv" required></select>
            </div>

            <div class="form-row">
              <div class="form-group">
                <label for="thang-thang">Th√°ng</label>
                <input
                  type="number"
                  id="thang-thang"
                  min="1"
                  max="12"
                  placeholder="1-12"
                />
              </div>

              <div class="form-group">
                <label for="thang-nam">NƒÉm</label>
                <input type="number" id="thang-nam" placeholder="2025" />
              </div>
            </div>

            <div class="form-group">
              <label for="thang-loai">Lo·∫°i ph·ª• c·∫•p *</label>
              <select id="thang-loai" multiple required></select>
              <small
                >üí° Ctrl+Click (Windows) ho·∫∑c Cmd+Click (Mac) ƒë·ªÉ ch·ªçn nhi·ªÅu
                lo·∫°i</small
              >
            </div>

            <!-- ‚≠ê S·ªë ti·ªÅn theo t·ª´ng lo·∫°i ph·ª• c·∫•p (ƒë∆∞·ª£c sinh t·ª± ƒë·ªông) -->
            <div class="form-group">
              <label>S·ªë ti·ªÅn theo t·ª´ng lo·∫°i</label>
              <div id="money-container"></div>
            </div>

            <div class="form-group">
              <label for="thang-note">Ghi ch√∫</label>
              <textarea
                id="thang-note"
                rows="3"
                placeholder="Nh·∫≠p ghi ch√∫ (kh√¥ng b·∫Øt bu·ªôc)"
              ></textarea>
            </div>

            <div class="alert alert-error" id="thang-error" hidden></div>

            <div>
              <button id="btn-cancel-thang" type="button" class="btn">
                H·ªßy
              </button>
              <button id="btn-save-thang" type="submit" class="btn btn-primary">
                L∆∞u
              </button>
            </div>
          </form>
        </dialog>
      </section>
    </main>

    <footer class="footer">
      <div class="container">
        <small>¬© <span id="y"></span> HR System</small>
      </div>
    </footer>

    <!-- JS -->
    <script src="./assets/js/danh-sach.js"></script>
    <script type="module" src="./assets/js/phu-cap-loai.js"></script>
    <script type="module" src="./assets/js/phu-cap-thang.js"></script>
    <script type="module" src="./assets/js/navbar.js"></script>

    <script>
      document.addEventListener('DOMContentLoaded', () => {
        document.getElementById('y').textContent = new Date().getFullYear();

        const tabs = document.querySelectorAll('.tab-btn');
        const sections = document.querySelectorAll('.tab-content');

        tabs.forEach((tab) => {
          tab.addEventListener('click', () => {
            tabs.forEach((t) => t.classList.remove('active'));
            sections.forEach((s) => s.classList.remove('active'));

            tab.classList.add('active');
            document.getElementById(tab.dataset.tab)?.classList.add('active');
          });
        });
      });
    </script>
  </body>
</html>
